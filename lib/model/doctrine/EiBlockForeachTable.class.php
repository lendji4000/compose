<?php

/**
 * EiBlockForeachTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class EiBlockForeachTable extends EiVersionStructureTable
{
    /**
     * Returns an instance of this class.
     *
     * @return object EiBlockForeachTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('EiBlockForeach');
    }

    /**
     * Retourne la liste des paramÃ¨tres d'un block.
     *
     * @param $ei_block_id
     * @return mixed
     */
    public function getEiBlocksParams($ei_block_id) {
        $ei_params = Doctrine_Query::create()
            ->select('bp.*')
            ->from('EiBlockParam bp')
            ->where('bp.ei_version_structure_parent_id = '.$ei_block_id)
            ->orderBy('bp.lft')
            ->execute();
        ;

        return $ei_params;

    }
}